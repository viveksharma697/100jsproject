<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sliding in on Scroll</title>
</head>

<body>
    <div class="site-wrap">
        <h1>Slide in on Scroll</h1>

        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Blanditiis nulla quaerat ex repellendus labore
            eaque, alias non vel ullam assumenda officiis, iure et id? Possimus odit eveniet reiciendis iusto aut
            necessitatibus laudantium adipisci cumque quo corporis nostrum est autem, aspernatur, doloribus qui ullam
            exercitationem non velit, iste reprehenderit. Laborum, numquam.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sit cumque enim veritatis reiciendis officia ipsa
            voluptate nostrum rem beatae. Dignissimos qui, reiciendis labore culpa, minus quaerat pariatur eveniet,
            excepturi enim provident sed suscipit dicta quo exercitationem inventore earum possimus dolore a voluptatem
            iure deleniti ducimus. Ipsum dolor aperiam, amet, sunt dolorem illo placeat recusandae vero tenetur fugit
            facere eum velit. Magni unde aliquid, quidem cum error ducimus placeat doloribus expedita!</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Corrupti sint numquam eaque officiis, atque
            consequuntur.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Aut esse dolor illo veritatis aperiam dignissimos
            corrupti ab animi quas quibusdam! Vitae tenetur, perspiciatis, perferendis veniam ducimus, voluptatum fugit
            maxime id suscipit distinctio at similique tempora. Libero, alias itaque aspernatur <img
                src="https://media.istockphoto.com/photos/the-bay-horse-gallops-on-the-grass-picture-id1209008843?k=20&m=1209008843&s=612x612&w=0&h=wAVL5kIf4mBmkCIb5k-hQtjZ8W7k8FPem-MoLj4BWfo="
                class="align-left slide-in"> nemo qui odit sequi quaerat optio est voluptate aperiam sunt adipisci iure
            animi vitae rerum numquam quos veritatis autem exercitationem at? Aliquam cumque ex delectus animi dolore
            ipsa repellat laboriosam unde cupiditate, pariatur doloribus temporibus velit sit quaerat, perferendis
            nesciunt reprehenderit recusandae suscipit, possimus id. Illo temporibus possimus vero adipisci accusamus
            omnis sit nemo blanditiis vitae illum eveniet voluptates voluptatibus qui autem fugiat sunt nam minima rem
            nihil tempora perferendis ipsam, totam fuga. Doloremque ducimus dolores aliquam nesciunt omnis! Optio enim
            eos quo temporibus autem fuga vero illo, necessitatibus impedit corrupti doloremque soluta nulla dicta saepe
            alias libero velit ex nemo, veritatis perspiciatis quam ab. Sequi minus laboriosam iste nulla voluptatum.
        </p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi commodi consectetur blanditiis molestiae alias
            soluta a, unde ad omnis quas reprehenderit iste illo. Deleniti, delectus blanditiis ea mollitia ipsum
            distinctio dolor unde ipsa voluptas, incidunt provident laudantium modi omnis qui quibusdam asperiores et
            nesciunt facilis a cum dolorum fuga error velit. Quam ipsum veniam quis, nihil voluptas nulla sapiente
            reprehenderit explicabo odit? Consequatur in, vitae voluptatem officia alias fuga ex.</p>
        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Mollitia eveniet nostrum, deserunt eius qui
            suscipit, sint dolores aspernatur ducimus voluptatem veritatis praesentium itaque, accusamus quisquam culpa.
            A, eius repudiandae. Magnam eos soluta voluptas aliquam nobis tempora consectetur eligendi tempore itaque
            veritatis, commodi atque architecto dolorem quaerat, voluptatibus nam voluptatum! <img
                src="https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"
                class="align-right slide-in"> Quisquam deserunt doloribus quas. Exercitationem delectus ipsa, non
            eveniet nulla modi id amet illum labore sunt suscipit dolores nam, voluptate nobis vitae aliquid temporibus,
            alias culpa? Quos iure enim qui. Incidunt ab soluta culpa doloremque sed aliquam perspiciatis alias? Ullam
            sed, totam dolore eius voluptate nostrum officia exercitationem molestias qui error id soluta obcaecati
            minima doloremque debitis nemo provident atque laborum dolorem. Provident modi a, laborum nisi corrupti
            quisquam optio molestiae et eius quia dolorum temporibus perspiciatis enim recusandae quam nihil
            reprehenderit maxime ab quo ea sunt nostrum aut excepturi? Laboriosam quas fuga exercitationem numquam
            molestiae! Dolores, qui excepturi. Vero, iusto! Reiciendis officia sed nobis accusamus? Accusamus quibusdam
            ex quo eos veritatis. Reiciendis ad aspernatur eaque corrupti, rerum iure harum inventore?</p>
        <img src="https://t4.ftcdn.net/jpg/02/75/24/41/360_F_275244154_NZ7ypYaSP8e2yYAPjBerlUEaadw24IUH.jpg"
            class="align-left slide-in">
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dicta deleniti tenetur eveniet iste maiores quaerat
            recusandae facere, tempora impedit consectetur, sint atque assumenda aperiam veritatis, incidunt repellat
            nobis eligendi non dolorem placeat ducimus officiis saepe! Illum, odio sint magnam ex iste laboriosam quod
            voluptas distinctio quae quidem dolorem, quo nostrum accusantium quaerat fuga, saepe commodi minima
            aspernatur ullam ut excepturi! Molestiae quibusdam dolorem velit ullam enim quam blanditiis dicta aliquam
            hic minus, aliquid commodi fugiat mollitia odio recusandae fuga inventore, incidunt ea! Quisquam vitae
            inventore sapiente commodi? Doloremque porro iure illo reiciendis odit, culpa praesentium! Excepturi a nam
            eos iusto.</p>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Explicabo ut doloremque quasi inventore aliquid sunt
            eos deleniti cupiditate quae voluptate possimus, perspiciatis odio accusantium doloribus!</p>
        <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Voluptates reprehenderit nobis ratione incidunt
            <img src="https://pe-images.s3.amazonaws.com/essentials/image-quality/low-res-horse.jpg"
                class="align-right slide-in"> voluptatum rerum soluta, praesentium a dignissimos officiis in inventore
            tempora cumque neque, sint maxime sed dolorem eos vero corporis velit? Voluptatem repudiandae molestiae fuga
            distinctio quis. Blanditiis aliquid dolores at, eos veritatis nobis sunt hic. Sit magnam tempore minus
            facere aperiam. Nobis libero tenetur doloribus velit esse nulla, accusamus laudantium perspiciatis ad,
            laboriosam facilis quo quibusdam dolorum eos unde neque minima quas, soluta nisi doloremque accusantium
            voluptatem?
        </p>
    </div>

    <script>
        function debounce(func, wait = 20, immediate = true) {
            var timeout;
            return function () {
                var context = this, args = arguments;   
                var later = function () {
                    timeout = null;
                    if (!immediate) func.apply(context, args);
                };
                var callNow = immediate && !timeout;
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
                if (callNow) func.apply(context, args);
            };
        };

        const sliderImages = document.querySelectorAll('.slide-in');

        function checkSlide(e) {
            // console.log(window.scrollY);
            // console.log(e);
            sliderImages.forEach(sliderImage => {
                // half of the image
                const slideInAt = (window.scrollY + window.innerHeight) - sliderImage.height / 2;
                console.log(slideInAt);
                // bottom of the image
                const imageBottom = sliderImage.offsetTop + sliderImage.height;
                const isHalfShown = slideInAt > sliderImage.offsetTop;
                const isNotScrolledPast = window.scrollY < imageBottom;

                if (isHalfShown && isNotScrolledPast) {
                    sliderImage.classList.add('active');
                } else {
                    sliderImage.classList.remove('active');
                }
            });
        };

        window.addEventListener('scroll', debounce(checkSlide));

    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html {
            box-sizing: border-box;
            background: yellowgreen;
            font-size: 20px;
            font-weight: 200;
        }

        *,
        *:before,
        *:after {
            box-sizing: inherit;
        }

        h1 {
            margin-top: 0;
        }

        .site-wrap {
            max-width: 850px;
            margin: 100px auto;
            background: whitesmoke;
            padding: 30px;
            text-align: justify;
        }

        .align-left {
            float: left;
            margin-right: 20px;
        }

        .align-right {
            float: right;
            margin-right: 20px;
            
        }

        .align-left.slide-in {
            transform: translateX(-30%) scale(0.95);
        }

        .align-right.slide-in {
            transform: translateX(30%) scale(0.95);
        }

        .slide-in.active {
            opacity: 1;
            transform: translateX(0%) scale(1);
        }

        .slide-in {
            opacity: 0;
            transition: all .5s;
        }
    </style>
</body>

</html>